{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/diff/index.ts"],"names":[],"mappings":";;AAEA,mCAAoC;AAGpC,+BAAiC;AAGpB,QAAA,QAAQ,GAAG,KAAK,CAAC;AAE9B,SAAgB,IAAI,CAClB,SAAwB,EACxB,SAAwB,EACxB,KAAkB;IAAlB,sBAAA,EAAA,UAAkB;IAElB,IAAM,OAAO,GAAG,mBAAU,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IAEjD,OAAO,KAAK,CAAC,MAAM,CACjB,UAAC,IAAI,EAAE,IAAI;QACT,OAAA,IAAI,CAAC;YACH,OAAO,EAAE,IAAI;YACb,SAAS,WAAA;YACT,SAAS,WAAA;SACV,CAAC;IAJF,CAIE,EACJ,OAAO,CACR,CAAC;AACJ,CAAC;AAhBD,oBAgBC","sourcesContent":["import {GraphQLSchema} from 'graphql';\n\nimport {diffSchema} from './schema';\nimport {Change} from './changes/change';\nimport {Rule} from './rules/types';\nimport * as rules from './rules';\n\nexport * from './rules/types';\nexport const DiffRule = rules;\n\nexport function diff(\n  oldSchema: GraphQLSchema,\n  newSchema: GraphQLSchema,\n  rules: Rule[] = [],\n): Change[] {\n  const changes = diffSchema(oldSchema, newSchema);\n\n  return rules.reduce(\n    (prev, rule) =>\n      rule({\n        changes: prev,\n        oldSchema,\n        newSchema,\n      }),\n    changes,\n  );\n}\n"]}