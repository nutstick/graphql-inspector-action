"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var compare_1 = require("./common/compare");
var argument_1 = require("./changes/argument");
var arrays_1 = require("../utils/arrays");
function changesInArgument(type, field, oldArg, newArg) {
    var changes = [];
    if (compare_1.isNotEqual(oldArg.description, newArg.description)) {
        changes.push(argument_1.fieldArgumentDescriptionChanged(type, field, oldArg, newArg));
    }
    if (compare_1.isNotEqual(oldArg.defaultValue, newArg.defaultValue)) {
        if (Array.isArray(oldArg.defaultValue) &&
            Array.isArray(newArg.defaultValue)) {
            var diff = arrays_1.diffArrays(oldArg.defaultValue, newArg.defaultValue);
            if (diff.length > 0) {
                changes.push(argument_1.fieldArgumentDefaultChanged(type, field, oldArg, newArg));
            }
        }
        else if (JSON.stringify(oldArg.defaultValue) !==
            JSON.stringify(newArg.defaultValue)) {
            changes.push(argument_1.fieldArgumentDefaultChanged(type, field, oldArg, newArg));
        }
    }
    if (compare_1.isNotEqual(oldArg.type.toString(), newArg.type.toString())) {
        changes.push(argument_1.fieldArgumentTypeChanged(type, field, oldArg, newArg));
    }
    return changes;
}
exports.changesInArgument = changesInArgument;
//# sourceMappingURL=argument.js.map