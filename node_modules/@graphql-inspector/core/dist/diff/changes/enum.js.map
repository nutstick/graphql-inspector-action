{"version":3,"file":"enum.js","sourceRoot":"","sources":["../../../src/diff/changes/enum.ts"],"names":[],"mappings":";;AAEA,mCAA8D;AAE9D,SAAgB,gBAAgB,CAC9B,OAAwB,EACxB,KAAuB;IAEvB,OAAO;QACL,WAAW,EAAE;YACX,KAAK,EAAE,yBAAgB,CAAC,QAAQ;YAChC,MAAM,EAAE,uFAAuF;SAChG;QACD,IAAI,EAAE,mBAAU,CAAC,gBAAgB;QACjC,OAAO,EAAE,iBAAe,KAAK,CAAC,IAAI,iCAChC,OAAO,CAAC,IAAI,MACX;QACH,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;KAC3C,CAAC;AACJ,CAAC;AAfD,4CAeC;AAED,SAAgB,cAAc,CAC5B,OAAwB,EACxB,KAAuB;IAEvB,OAAO;QACL,WAAW,EAAE;YACX,KAAK,EAAE,yBAAgB,CAAC,SAAS;YACjC,MAAM,EAAE,oIAAoI;SAC7I;QACD,IAAI,EAAE,mBAAU,CAAC,cAAc;QAC/B,OAAO,EAAE,iBAAe,KAAK,CAAC,IAAI,6BAAwB,OAAO,CAAC,IAAI,MAAG;QACzE,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;KAC3C,CAAC;AACJ,CAAC;AAbD,wCAaC;AAED,SAAgB,2BAA2B,CACzC,OAAwB,EACxB,QAA0B,EAC1B,QAA0B;IAE1B,OAAO;QACL,WAAW,EAAE;YACX,KAAK,EAAE,yBAAgB,CAAC,WAAW;SACpC;QACD,IAAI,EAAE,mBAAU,CAAC,2BAA2B;QAC5C,OAAO,EACL,OAAO,QAAQ,CAAC,WAAW,KAAK,WAAW;YACzC,CAAC,CAAC,kBAAgB,QAAQ,CAAC,WAAW,mCAClC,OAAO,CAAC,IAAI,SACV,QAAQ,CAAC,IAAI,MAAG;YACtB,CAAC,CAAC,iCAA+B,OAAO,CAAC,IAAI,SACzC,QAAQ,CAAC,IAAI,wBACI,QAAQ,CAAC,WAAW,cACrC,QAAQ,CAAC,WAAW,MACnB;QACT,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;KAC9C,CAAC;AACJ,CAAC;AAtBD,kEAsBC;AAED,SAAgB,iCAAiC,CAC/C,OAAwB,EACxB,QAA0B,EAC1B,QAA0B;IAE1B,OAAO;QACL,WAAW,EAAE;YACX,KAAK,EAAE,yBAAgB,CAAC,WAAW;SACpC;QACD,IAAI,EAAE,mBAAU,CAAC,2BAA2B;QAC5C,OAAO,EAAE,QAAQ,CAAC,iBAAiB;YACjC,CAAC,CAAC,iBAAe,OAAO,CAAC,IAAI,SACzB,QAAQ,CAAC,IAAI,2CAEb,QAAQ,CAAC,iBAAiB,cACnB,QAAQ,CAAC,iBAAiB,MAAG;YACxC,CAAC,CAAC,iBAAe,OAAO,CAAC,IAAI,SACzB,QAAQ,CAAC,IAAI,sCACkB,QAAQ,CAAC,iBAAiB,MAAG;QAClE,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;KAC9C,CAAC;AACJ,CAAC;AArBD,8EAqBC","sourcesContent":["import {GraphQLEnumType, GraphQLEnumValue} from 'graphql';\n\nimport {Change, CriticalityLevel, ChangeType} from './change';\n\nexport function enumValueRemoved(\n  oldEnum: GraphQLEnumType,\n  value: GraphQLEnumValue,\n): Change {\n  return {\n    criticality: {\n      level: CriticalityLevel.Breaking,\n      reason: `Removing an enum value will cause existing queries that use this enum value to error.`,\n    },\n    type: ChangeType.EnumValueRemoved,\n    message: `Enum value '${value.name}' was removed from enum '${\n      oldEnum.name\n    }'`,\n    path: [oldEnum.name, value.name].join('.'),\n  };\n}\n\nexport function enumValueAdded(\n  newEnum: GraphQLEnumType,\n  value: GraphQLEnumValue,\n): Change {\n  return {\n    criticality: {\n      level: CriticalityLevel.Dangerous,\n      reason: `Adding an enum value may break existing clients that were not programming defensively against an added case when querying an enum.`,\n    },\n    type: ChangeType.EnumValueAdded,\n    message: `Enum value '${value.name}' was added to enum '${newEnum.name}'`,\n    path: [newEnum.name, value.name].join('.'),\n  };\n}\n\nexport function enumValueDescriptionChanged(\n  newEnum: GraphQLEnumType,\n  oldValue: GraphQLEnumValue,\n  newValue: GraphQLEnumValue,\n): Change {\n  return {\n    criticality: {\n      level: CriticalityLevel.NonBreaking,\n    },\n    type: ChangeType.EnumValueDescriptionChanged,\n    message:\n      typeof oldValue.description === 'undefined'\n        ? `Description '${newValue.description}' was added to enum value '${\n            newEnum.name\n          }.${newValue.name}'`\n        : `Description for enum value '${newEnum.name}.${\n            newValue.name\n          }' changed from '${oldValue.description}' to '${\n            newValue.description\n          }'`,\n    path: [newEnum.name, oldValue.name].join('.'),\n  };\n}\n\nexport function enumValueDeprecationReasonChanged(\n  newEnum: GraphQLEnumType,\n  oldValue: GraphQLEnumValue,\n  newValue: GraphQLEnumValue,\n): Change {\n  return {\n    criticality: {\n      level: CriticalityLevel.NonBreaking,\n    },\n    type: ChangeType.EnumValueDescriptionChanged,\n    message: oldValue.deprecationReason\n      ? `Enum value '${newEnum.name}.${\n          newValue.name\n        }' deprecation reason changed from '${\n          oldValue.deprecationReason\n        }' to '${newValue.deprecationReason}'`\n      : `Enum value '${newEnum.name}.${\n          newValue.name\n        }' was deprecated with reason '${newValue.deprecationReason}'`,\n    path: [newEnum.name, oldValue.name].join('.'),\n  };\n}\n"]}