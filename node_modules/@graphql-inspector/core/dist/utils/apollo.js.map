{"version":3,"file":"apollo.js","sourceRoot":"","sources":["../../src/utils/apollo.ts"],"names":[],"mappings":";;AAAA,mCAAgF;AAEhF,qCAAkD;AAElD,SAAgB,2BAA2B,CAAC,GAAiB;IAC3D,OAAO,eAAK,CAAC,GAAG,EAAE;QAChB,KAAK,YAAC,IAAI;YACR,OAAO,iCAAuB,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;QACnD,CAAC;KACF,CAAC,CAAC;AACL,CAAC;AAND,kEAMC;AAED,SAAgB,yBAAyB,CACvC,MAAqB;IAErB,OAAO,sBAAY,CACjB,MAAM,EACN,eAAK,CAAC,aAAa,CAAC,8EAEnB,CAAC,CACH,CAAC;AACJ,CAAC;AATD,8DASC","sourcesContent":["import {DocumentNode, visit, parse, GraphQLSchema, extendSchema} from 'graphql';\n\nimport {removeFieldIfDirectives} from './graphql';\n\nexport function transformDocumentWithApollo(doc: DocumentNode): DocumentNode {\n  return visit(doc, {\n    Field(node) {\n      return removeFieldIfDirectives(node, ['client']);\n    },\n  });\n}\n\nexport function transformSchemaWithApollo(\n  schema: GraphQLSchema,\n): GraphQLSchema {\n  return extendSchema(\n    schema,\n    parse(/* GraphQL */ `\n      directive @connection(key: String!, filter: [String]) on FIELD\n    `),\n  );\n}\n"]}